<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.tcmp.Project.mapper.ItemSheetMapper">
    <!--<resultMap id="IntemsMap" type="Item_sheet" autoMapping="true">
        <id column="ItemID" property="ItemID" />
        <association property="ItemtypeID" column="ItemTypeID" resultMap="ItemttMap"/>
        <association property="ProductclassificationID" column="ProductClassificationID" resultMap="proMap"/>
        <association property="ChanneltableID" column="ChannelTableID" resultMap="Channel_listMap"/>
    </resultMap>
    <resultMap id="proMap" type="Product_classification_table">
        <id column="ProductClassificationID" property="ProductClassificationID"/>
        <result column="ProductClassificationName" property="ProductClassificationName"/>
    </resultMap>
    <resultMap id="ItemttMap" type="Item_type_table">
        <id column="ItemTypeID" property="ItemTypeID"/>
        <result column="ItemTypeName" property="ItemTypeName"/>
    </resultMap>
    <resultMap id="Channel_listMap" type="Channel_list">
        <id property="channelID" column="ChannelID" />

        <association column="ChanneltypeID" property="ChanneltypeID" javaType="Channel_type">
            <id column="ChannelTypeID" property="ChannelTypeID"/>
            <result column="ChannelTypeName" property="ChannelTypeName"/>
        </association>
    </resultMap>

    <select id="queryAllItem_sheet" resultMap="IntemsMap" parameterType="Item_sheet">
        SELECT * FROM product.item_sheet s,item_type_table it,product_classification_table p,channel_list c,channel_type ct
        WHERE s.ItemTypeID=it.ItemTypeID AND ct.ChannelTypeID=c.ChanneltypeID
        AND s.ProductClassificationID=p.ProductClassificationID
        AND s.ChannelTableID=c.ChannelID
        <if test="Project_code!=null and Project_code!=''">
            AND s.ProjectCode=#{Project_code}
        </if>
        <if test="Entry_name!=null and Entry_name!=''">
            AND s.EntryName=#{Entry_name}
        </if>
        <if test="Product_classification_ID.Product_Classification_ID!=null and Product_classification_ID.Product_Classification_ID!=''">
            AND p.ProductClassificationID=#{Product_classification_ID.Product_Classification_ID}
        </if>
        <if test="Item_type_ID.Item_Type_ID!=null and Item_type_ID.Item_Type_ID!=''">
            AND it.ItemTypeID=#{Item_type_ID.Item_Type_ID}
        </if>
        <if test="Date_of_establishment!=null and Date_of_establishment!=''">
            AND s.DateOfEstablishment=#{Date_of_establishment}
        </if>
        <if test="Maturity_Date!=null and Maturity_Date!=''">
            AND s.MaturityDate=#{Maturity_Date}
        </if>
        <if test="Channel_table_ID.channel_ID!=null and Channel_table_ID.channel_ID!=''">
            AND c.ChannelID=#{Channel_table_ID.channel_ID}
        </if>
    </select>
    <select id="queryAllProduct" resultMap="proMap">
        SELECT * FROM product_classification_table
    </select>
    <select id="queryAllItem_type_table" resultMap="ItemttMap">
        SELECT * FROM item_type_table
    </select>
    <select id="queryAllChannel_list" resultMap="Channel_listMap">
        SELECT * FROM channel_list
    </select>-->
</mapper>